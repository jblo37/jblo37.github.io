<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Participantes del Clan</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .player {
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>Clands</h1>
    <div id="participants"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const apiKey = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiIsImtpZCI6IjI4YTMxOGY3LTAwMDAtYTFlYi03ZmExLTJjNzQzM2M2Y2NhNSJ9.eyJpc3MiOiJzdXBlcmNlbGwiLCJhdWQiOiJzdXBlcmNlbGw6Z2FtZWFwaSIsImp0aSI6ImY4MjBkZjJhLTZmZGEtNDJiNS05NmU0LTMyNmJiZGVlNDg3YyIsImlhdCI6MTcyMjIwNTE0Mywic3ViIjoiZGV2ZWxvcGVyL2I5MjBmNmIyLTI0MDAtZGM3Zi1lZGM2LWYxNzI4MTYzMDYyOCIsInNjb3BlcyI6WyJyb3lhbGUiXSwibGltaXRzIjpbeyJ0aWVyIjoiZGV2ZWxvcGVyL3NpbHZlciIsInR5cGUiOiJ0aHJvdHRsaW5nIn0seyJjaWRycyI6WyIxODkuMTQzLjIyNS4yMzgiXSwidHlwZSI6ImNsaWVudCJ9XX0.HBuxPnSC6XhL3eJ4UuUqRImRRA1PfjKGz5UPiAqm9pn800-u_k0K7AicrxBjCDffpwIHKLIczydyG6fV-3gROg'; // Reemplaza con tu API Key
           // const clanTag = '#LQQR9GQR'; // Reemplaza con tu Clan Tag
            const url = 'https://api.clashroyale.com/v1/clans/%23LQQR9GQR/members';

            fetch(url, {
                headers: {
                    'Authorization': Bearer ${apiKey}
                }
            })
            .then(response => response.json())
            .then(data => {
                const participantsDiv = document.getElementById('participants');
                participantsDiv.innerHTML = '';

                // AsegÃºrate de que data.members existe y es un array
                if (data.members && Array.isArray(data.members)) {
                    data.members.forEach(member => {
                        participantsDiv.innerHTML += 
                            <div class="player">
                                <h3>${member.name}</h3>
                                <p>Trophy Count: ${member.trophies}</p>
                                <p>Role: ${member.role}</p>
                            </div>
                        ;
                    });
                } else {
                    participantsDiv.innerHTML = '<p>No members found.</p>';
                }
            })
            .catch(error => {
                console.error('Error fetching clan data:', error);
                document.getElementById('participants').innerHTML = '<p>Error fetching data. Check console for details.</p>';
            });
        });
    </script>
</body>
</html>
